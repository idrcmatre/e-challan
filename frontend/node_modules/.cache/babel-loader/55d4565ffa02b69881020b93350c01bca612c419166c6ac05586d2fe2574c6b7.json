{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',role:'citizen',phone:'',address:'',licenseNumber:''});const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{await axios.post('http://16.176.131.224/api/auth/register',formData);alert('Registration successful! Please login.');navigate('/login');}catch(error){var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Registration failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-6\",children:\"Register for E-Challan\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your full name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,value:formData.email,onChange:e=>setFormData({...formData,email:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,value:formData.password,onChange:e=>setFormData({...formData,password:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Create a password\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.role,onChange:e=>setFormData({...formData,role:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"citizen\",children:\"Citizen\"}),/*#__PURE__*/_jsx(\"option\",{value:\"officer\",children:\"Traffic Officer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your phone number\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Address\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.address,onChange:e=>setFormData({...formData,address:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",rows:\"2\",placeholder:\"Enter your address\"})]}),formData.role==='citizen'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"License Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.licenseNumber,onChange:e=>setFormData({...formData,licenseNumber:e.target.value}),className:\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your driving license number\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 disabled:opacity-50\",children:loading?'Creating Account...':'Create Account'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6 text-sm text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-blue-600 hover:text-blue-500\",children:\"Login here\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","role","phone","address","licenseNumber","loading","setLoading","navigate","handleSubmit","e","preventDefault","post","alert","error","_error$response","_error$response$data","response","data","message","className","children","onSubmit","type","required","value","onChange","target","placeholder","rows","disabled","to"],"sources":["/home/ubuntu/e-challan/frontend/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Register = () => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        role: 'citizen',\r\n        phone: '',\r\n        address: '',\r\n        licenseNumber: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.post('http://16.176.131.224/api/auth/register', formData);\r\n            alert('Registration successful! Please login.');\r\n            navigate('/login');\r\n        } catch (error) {\r\n            alert(error.response?.data?.message || 'Registration failed');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-md mx-auto mt-8\">\r\n            <div className=\"bg-white p-8 rounded-lg shadow-md\">\r\n                <h1 className=\"text-2xl font-bold text-center mb-6\">Register for E-Challan</h1>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Full Name\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={formData.name}\r\n                            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                            placeholder=\"Enter your full name\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Email Address\r\n                        </label>\r\n                        <input\r\n                            type=\"email\"\r\n                            required\r\n                            value={formData.email}\r\n                            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                            placeholder=\"Enter your email\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Password\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            required\r\n                            value={formData.password}\r\n                            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                            placeholder=\"Create a password\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Role\r\n                        </label>\r\n                        <select\r\n                            value={formData.role}\r\n                            onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                        >\r\n                            <option value=\"citizen\">Citizen</option>\r\n                            <option value=\"officer\">Traffic Officer</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Phone Number\r\n                        </label>\r\n                        <input\r\n                            type=\"tel\"\r\n                            value={formData.phone}\r\n                            onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                            placeholder=\"Enter your phone number\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Address\r\n                        </label>\r\n                        <textarea\r\n                            value={formData.address}\r\n                            onChange={(e) => setFormData({ ...formData, address: e.target.value })}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                            rows=\"2\"\r\n                            placeholder=\"Enter your address\"\r\n                        />\r\n                    </div>\r\n\r\n                    {formData.role === 'citizen' && (\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                License Number\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={formData.licenseNumber}\r\n                                onChange={(e) => setFormData({ ...formData, licenseNumber: e.target.value })}\r\n                                className=\"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\r\n                                placeholder=\"Enter your driving license number\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 disabled:opacity-50\"\r\n                    >\r\n                        {loading ? 'Creating Account...' : 'Create Account'}\r\n                    </button>\r\n                </form>\r\n\r\n                <p className=\"text-center mt-6 text-sm text-gray-600\">\r\n                    Already have an account?{' '}\r\n                    <Link to=\"/login\" className=\"text-blue-600 hover:text-blue-500\">\r\n                        Login here\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}